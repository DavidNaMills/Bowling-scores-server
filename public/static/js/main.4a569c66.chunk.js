(this["webpackJsonpbowling-scores-5-front"]=this["webpackJsonpbowling-scores-5-front"]||[]).push([[0],{105:function(e,t,a){e.exports={btns:"GameHistory_btns__2Z4B0",smallExtra:"GameHistory_smallExtra__30XgE",extra:"GameHistory_extra__2h2kb",largeExtra:"GameHistory_largeExtra__2eC_d",superLarge:"GameHistory_superLarge__2FdTp",gameHistory:"GameHistory_gameHistory__hEQA_",gameHistory__game:"GameHistory_gameHistory__game__XNzh4",gameHistory__spinner:"GameHistory_gameHistory__spinner__2Oku3"}},140:function(e,t,a){e.exports={table:"Table_table__HFMWF",caption:"Table_caption__3gb_1"}},15:function(e,t,a){e.exports={navigation:"Navigation_navigation__15ppS",navigation_section:"Navigation_navigation_section__jy2BM",navigation__link:"Navigation_navigation__link__OTcxc",navigation__link_active:"Navigation_navigation__link_active__7Pi6-",navigation__username:"Navigation_navigation__username__2E94Y"}},21:function(e,t,a){e.exports={button:"Button_button__XZUkI",button__children:"Button_button__children__1yIzx",button__disabled:"Button_button__disabled__17m0F",button__isFull:"Button_button__isFull__1H55S",button__default:"Button_button__default__3cStc",button__warning:"Button_button__warning__1cWZ0",button__danger:"Button_button__danger__1D-Mb",button__lightGreen:"Button_button__lightGreen__7qpJ6",button__darkGreen:"Button_button__darkGreen__MrKfA",button__blue:"Button_button__blue__3MI62",button__lightBlue:"Button_button__lightBlue__7ktdB",button__darkBlue:"Button_button__darkBlue__1RcCM",button__lightRed:"Button_button__lightRed__1pLca",button__lightYellow:"Button_button__lightYellow__2x61Y"}},22:function(e,t,a){e.exports={contentContainer:"container_contentContainer__1ojtX"}},221:function(e,t,a){e.exports={StatsBar:"StatsBar_StatsBar__1xGqZ"}},262:function(e,t,a){e.exports=a(556)},263:function(e,t,a){},27:function(e,t,a){e.exports={form__container:"form_form__container__BZU_C",form__form:"form_form__form__2Z4KW"}},28:function(e,t,a){e.exports={popup__container:"Popup_popup__container__2mvO4",popup__module:"Popup_popup__module__3_NsE",popup__closeBar:"Popup_popup__closeBar__2wR-x",popup__closeBar_cls:"Popup_popup__closeBar_cls__1M7Ko",popup__message:"Popup_popup__message__Mgy2T",popup__message2:"Popup_popup__message2__OySYB",popup__btnContainer:"Popup_popup__btnContainer__1S9M_"}},30:function(e,t,a){e.exports={input:"Input_input__2r6mV",input__label:"Input_input__label__1R210",input__default:"Input_input__default__DMF8g",input__valid:"Input_input__valid__2exE1",input__error:"Input_input__error__2aX0z",input__errorContainer:"Input_input__errorContainer__3Nyox",input__errorContainer_errorMsg:"Input_input__errorContainer_errorMsg__2KNBi",icon:"Input_icon__1U6vZ",icon__required:"Input_icon__required__3kWQ9",icon__error:"Input_icon__error__21P6i"}},36:function(e,t,a){e.exports={Infinite__more:"useInfinite_Infinite__more__2XtdG",Infinite__more_finished:"useInfinite_Infinite__more_finished__2c9Gp",Infinite__more_toFetch:"useInfinite_Infinite__more_toFetch__3Pytf",Infinite__spinner:"useInfinite_Infinite__spinner__2KXCp",Infinite__results:"useInfinite_Infinite__results__1Dcuw"}},47:function(e,t,a){e.exports={landing:"Landing_landing__1ZkSb",landing__prof:"Landing_landing__prof__2F4D7",landing__casual:"Landing_landing__casual__2mhNh",landing__soon:"Landing_landing__soon__2EVB4",landing__btn:"Landing_landing__btn__3P4X3",landing__btn_container:"Landing_landing__btn_container__3luk3"}},52:function(e,t,a){e.exports={staticPrompt:"StaticPrompt_staticPrompt__3W-Da",staticPrompt__btn:"StaticPrompt_staticPrompt__btn__ONHCN",staticPrompt__btn_hf:"StaticPrompt_staticPrompt__btn_hf__2FQpG",staticPrompt__btn_fl:"StaticPrompt_staticPrompt__btn_fl__2XyRJ"}},555:function(e,t,a){},556:function(e,t,a){"use strict";a.r(t);a(263);var n=a(1),r=a.n(n),o=a(60),c=a.n(o),l=a(19),i=a(20),s=a(45),u="https://www.bowling-scores.com",m="".concat(u,"/").concat("access","/login"),_=("".concat(u,"/").concat("access","/jwt-login"),"".concat(u,"/").concat("access","/signup")),d="".concat(u,"/").concat("game","/newGame"),p="".concat(u,"/").concat("game","/addFrame"),g="".concat(u,"/").concat("game","/addPlayer"),f="".concat(u,"/").concat("game","/personalGames"),b="".concat(u,"/").concat("game","/updateScores"),v="".concat(u,"/").concat("game","/removePlayer"),y=a(15),h=a.n(y),E=function(e){return r.a.createElement("div",{className:h.a.navigation},r.a.createElement("div",{className:h.a.navigation_section},r.a.createElement(i.b,{exact:!0,className:h.a.navigation__link,activeClassName:h.a.navigation__link_active,to:"/"},"Home"),r.a.createElement(i.b,{className:h.a.navigation__link,activeClassName:h.a.navigation__link_active,to:"/game"},"Game")),r.a.createElement("div",{className:h.a.navigation_section},r.a.createElement(i.b,{className:h.a.navigation__link,activeClassName:h.a.navigation__link_active,to:"/login"},"Login"),r.a.createElement(i.b,{className:h.a.navigation__link,activeClassName:h.a.navigation__link_active,to:"/signup"},"Signup")))},O=function(e){return r.a.createElement("div",{className:h.a.navigation},r.a.createElement("div",{className:h.a.navigation_section},r.a.createElement(i.b,{exact:!0,className:h.a.navigation__link,activeClassName:h.a.navigation__link_active,to:"/dashboard"},"Home"),r.a.createElement(i.b,{className:h.a.navigation__link,activeClassName:h.a.navigation__link_active,to:"/game"},"Game")),r.a.createElement("div",{className:h.a.navigation_section},r.a.createElement("p",{className:h.a.navigation__username,style:{color:"rgb(".concat(e.user.color,")")}},e.user.username),r.a.createElement(i.b,{className:h.a.navigation__link,activeClassName:h.a.navigation__link_active,to:"/logout"},"Logout")))},w=a(221),j=a.n(w),N=function(e){var t=e.stats;return r.a.createElement("div",{className:j.a.StatsBar},r.a.createElement("p",null,"Average: ".concat(t.average)),r.a.createElement("p",null,"Games Played: ".concat(t.ttlGames)))},k=function(e){return r.a.createElement("header",null,r.a.createElement("div",null,e.user.token?r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{user:e.user.user}),r.a.createElement(N,{stats:e.user.user.statistics})):r.a.createElement(E,null)),e.children)},P=a(222),S=a.n(P).a.create({baseURL:"".concat(u,"/")}),C=S,x=a(8),D=a(80),G=a.n(D),I=function(e){var t=e.msg,a=e.close,n=void 0===a?null:a;return r.a.createElement("div",{className:G.a.errorMessage},n&&r.a.createElement("div",{className:G.a.errorMessage__closeBar},r.a.createElement("p",{onClick:n,className:G.a.errorMessage__closeBar_cls},"CLOSE")),r.a.createElement("p",{className:G.a.errorMessage__msg},t))},B=function(e,t){return function(a){var o=Object(n.useState)(null),c=Object(x.a)(o,2),l=c[0],i=c[1],s=t.interceptors.response.use((function(e){return i(null),e}),(function(e){console.log(e);var t=e.response.status,a=e.response.config.url.slice(e.config.url.lastIndexOf("/")+1,e.response.config.url.length);return i(401===t&&"login"===a?"Invalid Username or Password":401===t?"Unauthorized":"Something went wrong. we are sorry. someone will be fired"),window.scrollTo({top:0,left:0,behavior:"smooth"}),Promise.reject(e)}));return Object(n.useEffect)((function(){return function(){t.interceptors.response.eject(s)}}),[s]),r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(I,{msg:l}),r.a.createElement(e,a))}},M=a(10);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T={data:null,error:!1},A=function(){var e=Object(n.useState)(!1),t=Object(x.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(T),c=Object(x.a)(o,2),l=c[0],i=c[1];return{isLoading:a,result:l,makeCall:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o={method:t,url:a},c=n?F({},o,{data:n}):F({},o);r(!0),e(c).then((function(e){"Unauthorized"===e.data?i({data:null,error:!0}):i({data:e.data,error:!1}),r(!1)})).catch((function(e){console.log(e),i({data:null,error:!0}),r(!1)}))},resetData:function(){}}},R=function(e,t,a){var n=!0,r=[],o=t[a].validation;for(var c in o)switch(c){case"minLength":e.length<o[c].req&&(n=!1,r=r.concat(o[c].errMsg));break;case"maxLength":e.length>o[c].req&&(n=!1,r=r.concat(o[c].errMsg));break;case"isSame":e!==t[o[c].field].value&&(n=!1,r=r.concat(o[c].errMsg))}return{isValid:n,errorMsg:r}};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(),a=Object(x.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){o(e)}),[]),{manageState:function(e,t){var a=e.target.value,n=JSON.parse(JSON.stringify(r[t]));n.value=a,n.touched=!0,o((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,Object(M.a)({},t,n))}))},formState:r,completeCheck:function(){var e=!0,t=JSON.parse(JSON.stringify(r));for(var a in t){var n=R(t[a].value,t,a);n.isValid?(t[a].hasErr=[],t[a].isValid=!0):(t[a].hasErr=n.errorMsg,t[a].isValid=!1)}for(var c in t)t[c].isValid||(e=!1);return o(t),e},clearForm:function(){o(e)},buildForm:function(){var e={};for(var t in r)e[t]=r[t].value;return e}}},H=a(34),U=a.n(H),q=a(67),z=a(100),W=a.n(z),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"file",t=arguments.length>1?arguments[1]:void 0;try{localStorage.clear(e),localStorage.setItem(e,JSON.stringify(t))}catch(a){console.log(a)}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"file";arguments.length>1&&arguments[1];try{var t=localStorage.getItem(e);return t}catch(a){return null}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"file",t=arguments.length>1?arguments[1]:void 0;try{localStorage.removeItem(e,t)}catch(a){return null}},K=function(e,t){var a=JSON.parse(JSON.stringify(e));return a.players[t._id]={name:t.name,color:t.color},a},Q=function(e,t){var a=JSON.parse(JSON.stringify(e));for(var n in delete a.players[t],a.games)delete a.games[n][t];return a},$=function(e,t,a){var n=JSON.parse(JSON.stringify(e));for(var r in a)+a[r]>0?n.games[r][t].score=+a[r]:delete n.games[r][t];return n},ee=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(e)),o=a||Object.keys(e.games).length+1;for(var c in n)+n[c].score>0?n[c].score=+n[c].score:delete n[c];return r.games["".concat(o)]=n,r};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne=function(e){return{type:"INIT_GAME",payload:e}},re=function(e){return{type:"ADD_PLAYER",payload:e}},oe=function(e){return{type:"REMOVE_PLAYER",payload:e}},ce=function(e){return{type:"ADD_NEW_GAME",payload:e}},le=function(e){return{type:"UPDATE_INDIVIDUAL_SCORE",payload:e}},ie=function(e){return function(t,a){var n;(n=e.token)?S.defaults.headers.common.authorization="bearer ".concat(n):delete S.defaults.headers.common.authorization,t(function(e){return{type:"USER_LOGIN",payload:e}}(e))}},se=function(){var e=Object(l.b)();return{addNewPlayerDispatch:function(t){return e((a=t,function(){var e=Object(q.a)(U.a.mark((function e(t,n){var r,o,c,l,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=r.user,c=r.liveGame,l=W()(),o.token&&"123789456123abc"!==c._id){e.next=9;break}a._id=l,i=K(c,a),t(re(i)),Y("bowling-scores",i),e.next=12;break;case 9:return console.log("[addPlayer]"),e.next=12,C({method:"POST",url:"".concat(g,"/").concat(c._id),data:{key:l,data:a}}).then((function(e){e.error||(t(re(e.data.item)),Y("bowling-scores",ae({loggedIn:o.user._id},e.data.item)))}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},addNewGameDispatch:function(t){return e((a=t,function(){var e=Object(q.a)(U.a.mark((function e(t,n){var r,o,c,l,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=r.user,c=r.liveGame,l=c.games?Object.keys(c.games).length+1:1,o.token&&"123789456123abc"!==c._id){e.next=8;break}i=ee(c,a,l),t(ce(i)),Y("bowling-scores",i),e.next=11;break;case 8:return console.log("[addNewGame]"),e.next=11,C({method:"POST",url:"".concat(p,"/").concat(c._id),data:{key:l,data:a}}).then((function(e){e.error||(t(ce(e.data.item)),Y("bowling-scores",ae({loggedIn:o.user._id},e.data.item)))}));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},initGameDispatch:function(t){return e(ne(t))},commitNewGameDispatch:function(t){return e((a=t,function(){var e=Object(q.a)(U.a.mark((function e(t,n){var r,o,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),(o=r.user).token){e.next=7;break}c={_id:a._id?a._id:"123789456123abc",createdAt:a.createdAt?a.createdAt:new Date,players:a.players?a.players:{},games:a.games?a.games:{}},t(ne(c)),Y("bowling-scores",JSON.stringify(c)),e.next=10;break;case 7:return console.log("[commitNewGame]"),e.next=10,C({method:"POST",url:d,data:a}).then((function(e){e.data.error||(t(ne(e.data.item)),Y("bowling-scores",ae({loggedIn:o.user._id},e.data.item)))})).catch((function(e){console.log(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},resetLiveGameDispatch:function(){return e({type:"RESET_LIVE_GAME"})},removePlayerDispatch:function(t){return e((a=t,function(){var e=Object(q.a)(U.a.mark((function e(t,n){var r,o,c,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=r.user,c=r.liveGame,o.token&&"123789456123abc"!==c._id){e.next=7;break}l=Q(c,a),t(oe(l)),Y("bowling-scores",l),e.next=10;break;case 7:return console.log("[removePlayer]"),e.next=10,C({method:"DELETE",url:"".concat(v,"/").concat(c._id,"/").concat(a)}).then((function(e){e.error||(t(oe(e.data.item)),Y("bowling-scores",ae({loggedIn:o.user._id},e.data.item)))}));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},updateScoresDispatch:function(t){return e((a=t,function(){var e=Object(q.a)(U.a.mark((function e(t,n){var r,o,c,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=r.user,c=r.liveGame,o.token&&"123789456123abc"!==c._id){e.next=7;break}l=$(c,a.id,a.scores),t(le(l)),Y("bowling-scores",l),e.next=9;break;case 7:return e.next=9,C({method:"PUT",url:"".concat(b,"/").concat(c._id),data:{userId:a.id,scores:a.scores}}).then((function(e){e.error||(t(le(e.data.item)),Y("bowling-scores",ae({loggedIn:o.user._id},e.data.item)))})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},loginUserDispatch:function(t){return e(ie(t))},logoutUserDispatch:function(){return e((function(e,t){e({type:"RESET_LIVE_GAME"}),e({type:"USER_LOGOUT"})}))}}},ue=a(68),me=a.n(ue),_e=function(e){var t,a=e.label,n=void 0===a?"":a,o=e.ttlType;switch((void 0===o?"sub":o).toLowerCase()){case"main":t=r.a.createElement("h1",{className:me.a.title__main},n);break;case"section":t=r.a.createElement("h2",{className:me.a.title__section},n);break;case"sub":t=r.a.createElement("h3",{className:me.a.title__sub},n);break;default:t=r.a.createElement("h4",{className:me.a.title__sub},n)}return r.a.createElement("div",{className:me.a.title},t)},de=a(12),pe=a(30),ge=a.n(pe),fe=a(567),be=a(568),ve=[ge.a.icon,ge.a.icon__required],ye=[ge.a.icon,ge.a.icon__error],he=function(e){var t=e.value,a=e.changed,n=e.id,o=e.type,c=void 0===o?"text":o,l=e.label,i=void 0===l?null:l,s=e.placeholder,u=void 0===s?"":s,m=e.error,_=void 0===m?[]:m,d=e.isValid,p=void 0!==d&&d,g=e.isRequired,f=void 0!==g&&g,b=Object(de.a)(e,["value","changed","id","type","label","placeholder","error","isValid","isRequired"]),v=[ge.a.input,ge.a.input__default];return p&&(v=v.concat(ge.a.input__valid)),_.length>0&&(v=v.concat(ge.a.input__error)),r.a.createElement("div",{className:ge.a.input__label},i&&r.a.createElement("label",{htmlFor:n},i),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:v.join(" "),id:n,type:c,onChange:function(e){return a(e,n)},placeholder:u,value:t},b)),_.length>0?r.a.createElement(fe.a,{className:ye.join(" ")}):f&&r.a.createElement(be.a,{className:ve.join(" ")})),_.length>0&&r.a.createElement("div",{className:ge.a.input__errorContainer},_.map((function(e,t){return r.a.createElement("p",{key:t,className:ge.a.input__errorContainer_errorMsg},e)}),0)))},Ee=function(e){var t=e.config,a=e.id,n=e.changed,o=Object(de.a)(e,["config","id","changed"]),c=null;switch(t.elementtype.toLowerCase()){case"input":c=r.a.createElement(he,Object.assign({changed:n,id:a},t.elementConfig,{isValid:t.isValid,label:t.elementConfig.placeholder,value:t.value,error:t.hasErr,isRequired:t.shouldValidate},o));break;default:c=r.a.createElement("p",null,"ERROR")}return r.a.createElement(r.a.Fragment,null,c)},Oe=a(21),we=a.n(Oe),je=function(e){var t=e.click,a=void 0===t?function(){}:t,n=e.label,o=e.isDisabled,c=void 0!==o&&o,l=e.type,i=void 0===l?"default":l,s=e.isFull,u=void 0!==s&&s,m=e.children,_=void 0===m?null:m,d=[we.a.button];if(u&&(d=d.concat(we.a.button__isFull)),c)d=d.concat(we.a.button__disabled);else switch(i.toLowerCase()){case"lightgreen":d=d.concat(we.a.button__lightGreen);break;case"darkgreen":d=d.concat(we.a.button__darkGreen);break;case"blue":d=d.concat(we.a.button__blue);break;case"lightblue":d=d.concat(we.a.button__lightBlue);break;case"darkblue":d=d.concat(we.a.button__darkBlue);break;case"lightred":d=d.concat(we.a.button__lightRed);break;case"lightyellow":d=d.concat(we.a.button__lightYellow);break;case"warning":d=d.concat(we.a.button__warning);break;case"danger":d=d.concat(we.a.button__danger);break;default:d=d.concat(we.a.button__default)}return r.a.createElement("button",{onClick:a,disabled:c,className:d.join(" ")},_?r.a.createElement("div",{className:we.a.button__children},_):n)},Ne=a(223),ke=a(13),Pe=a(224);function Se(){var e=Object(Ne.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return Se=function(){return e},e}var Ce=Object(ke.css)(Se()),xe=function(e){var t=e.size,a=void 0===t?20:t;return r.a.createElement(Pe.PropagateLoader,{css:Ce,size:a,color:"#2445ff",loading:!0})},De=a(27),Ge=a.n(De),Ie=a(22),Be=a.n(Ie),Me=a(9),Le=a.n(Me),Fe=function(e){var t=[];for(var a in e){var n={id:a,config:e[a]};t.push(n)}return t},Te=function(e){var t=e.submit,a=e.formState,n=e.manageState,o=e.isLoading,c=e.clear;return r.a.createElement("div",{className:Be.a.contentContainer},r.a.createElement("div",{className:Ge.a.form__container},r.a.createElement("form",{onSubmit:t,className:Ge.a.form__form},Fe(a).map((function(e,t){return r.a.createElement(Ee,{key:t,config:e.config,id:e.id,changed:n})}),0),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{type:"default",label:"Login",click:t,isFull:!0,isDisabled:o},o&&r.a.createElement(xe,{size:16})),r.a.createElement("div",{className:Le.a.extra},r.a.createElement(je,{label:"Clear",type:"lightred",click:c,isFull:!0,isDisabled:o}))))))},Ae=B((function(e){var t=se().loginUserDispatch,a=J(e.formConfig),o=a.manageState,c=a.formState,l=a.completeCheck,i=a.clearForm,s=a.buildForm,u=A(),m=u.isLoading,_=u.makeCall,d=u.result;Object(n.useEffect)((function(){d.error&&i(),d.data&&t(d.data)}),[d]);return r.a.createElement("div",null,r.a.createElement(_e,{label:"Bowling Scores: ".concat(e.title),ttlType:"section"}),r.a.createElement(Te,{submit:function(t){t.preventDefault(),l()&&_(C,"POST",e.url,s())},formState:c,manageState:o,isLoading:m,clear:function(){i()}}))}),C),Re=a(225),Ve=function(){var e=Math.floor(256*Math.random()+0),t=Math.floor(256*Math.random()+0),a=Math.floor(256*Math.random()+0);return"".concat(e,", ").concat(t,", ").concat(a)},Je=function(){var e=Object(n.useState)(null),t=Object(x.a)(e,2),a=t[0],o=t[1],c=function(e,t){var a="".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b);return o(a),!0};return{color:a,randomColor:function(){var e=Ve();o(e)},showColorPickerComponent:function(){return r.a.createElement(Re.SwatchesPicker,{onChangeComplete:c})}}},He=function(e){var t;return t={background:"rgba(".concat(e,", 0.3)")},Object(M.a)(t,"background","-moz-linear-gradient(180deg, rgba(255,255,255,1) 37%, rgba(".concat(e,",1) 100%)")),Object(M.a)(t,"background","-webkit-linear-gradient(180deg, rgba(255,255,255,1) 37%, rgba(".concat(e,",1) 100%)")),Object(M.a)(t,"background","linear-gradient(180deg, rgba(255,255,255,1) 37%, rgba(".concat(e,",1) 100%)")),t};function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ze=function(e){var t=e.name,a=e.submit,n=e.cancel,o=e.isLoading,c=Je(),l=c.showColorPickerComponent,i=c.color;return r.a.createElement("div",{className:Be.a.contentContainer},r.a.createElement(_e,{label:"Set Preferences",ttlType:"sub"}),r.a.createElement("p",null,"Choose Your Colour"),l(),t&&r.a.createElement("div",{className:Le.a.largeExtra,style:qe({marginTop:"10px",marginBottom:"10px",height:"30px",textAlign:"center"},He(i))},t),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{label:"Signup",type:"default",click:function(){return a({color:i})},isDisabled:!i,isFull:!0},o&&r.a.createElement(xe,{size:16})),r.a.createElement("div",{className:Le.a.extra},r.a.createElement(je,{label:"Cancel",type:"lightRed",click:n,isFull:!0}))))};function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ye=B((function(e){var t=se().loginUserDispatch,a=J(e.formConfig),o=a.manageState,c=a.formState,l=a.completeCheck,i=a.clearForm,s=a.buildForm,u=A(),m=u.isLoading,_=u.makeCall,d=u.result,p=Object(n.useState)(!0),g=Object(x.a)(p,2),f=g[0],b=g[1];Object(n.useEffect)((function(){d.error&&i(),d.data&&t(d.data)}),[d]);var v=function(){i(),b(!0)};return r.a.createElement("div",null,r.a.createElement(_e,{label:"Bowling Scores: ".concat(e.title),ttlType:"section"}),f?r.a.createElement(Te,{submit:function(e){e.preventDefault(),l()&&b(!1)},formState:c,manageState:o,isLoading:m,clear:v}):r.a.createElement(ze,{submit:function(t){_(C,"POST",e.url,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{},s()))},cancel:v,name:c.username.value}))}),C),Xe=a(47),Ze=a.n(Xe),Ke=function(e){var t=function(t){e.history.push(t)};return r.a.createElement("div",{className:[Be.a.contentContainer].join(" ")},r.a.createElement(_e,{ttlType:"main",label:"Bowling Scores"}),r.a.createElement("div",{className:[Ze.a.landing,Ze.a.landing__prof].join(" ")},r.a.createElement(_e,{ttlType:"sub",label:"A Serious Bowler?"}),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Games and statistics are recorded"),r.a.createElement("li",null,"View and compare past games"),r.a.createElement("li",null,"Track your progress"),r.a.createElement("li",null,"Play against friends"),r.a.createElement("li",null,"Join the community of bowlers")),r.a.createElement("div",{className:Ze.a.landing__btn},r.a.createElement("div",{className:Ze.a.landing__btn_container},r.a.createElement(je,{isFull:!0,click:function(){return t("/signup")},type:"darkgreen",label:"Signup"})),r.a.createElement("div",{className:Ze.a.landing__btn_container},r.a.createElement(je,{isFull:!0,click:function(){return t("/login")},type:"darkblue",label:"Login"}))))),r.a.createElement("div",{className:[Ze.a.landing,Ze.a.landing__casual].join(" ")},r.a.createElement(_e,{ttlType:"sub",label:"A Casual Bowler?"}),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"No problem!!!"),r.a.createElement("li",null,"Take advantage of the quick game"),r.a.createElement("li",null,"Enjoy all the fun stuff without logging in")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(je,{isFull:!0,click:function(){return t("/game")},type:"blue",label:"Quick Game"}))))))},Qe={username:{elementtype:"input",elementConfig:{type:"text",placeholder:"user_name"},value:"",validation:{minLength:{req:1,errMsg:"login_err1"},maxLength:{req:20,errMsg:"login_err2"}},touched:!1,isValid:!1,shouldValidate:!0,hasErr:[]},password:{elementtype:"input",elementConfig:{type:"password",placeholder:"user_pass"},value:"",isValid:!1,validation:{minLength:{req:5,errMsg:"login_err1"},maxLength:{req:20,errMsg:"login_err2"}},touched:!1,shouldValidate:!0,hasErr:[]}},$e={name:{elementtype:"input",elementConfig:{type:"text",placeholder:"name"},value:"",validation:{minLength:{req:1,errMsg:"too_short"},maxLength:{req:20,errMsg:"too_long"}},touched:!1,isValid:!1,shouldValidate:!0,hasErr:[]},username:{elementtype:"input",elementConfig:{type:"text",placeholder:"user_name"},value:"",validation:{minLength:{req:1,errMsg:"too_short"},maxLength:{req:20,errMsg:"too_long"}},touched:!1,isValid:!1,shouldValidate:!0,hasErr:[]},password:{elementtype:"input",elementConfig:{type:"password",placeholder:"user_pass"},value:"",validation:{minLength:{req:5,errMsg:"min_pass"},maxLength:{req:20,errMsg:"too_long"}},touched:!1,isValid:!1,shouldValidate:!0,hasErr:[]},passwordConfirm:{elementtype:"input",elementConfig:{type:"password",placeholder:"user_pass_confirm"},value:"",validation:{isSame:{field:"password",errMsg:"pass_not_same"}},touched:!1,isValid:!1,shouldValidate:!0,hasErr:[]}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bowling-scores",t=function(t){Y(e,t)},a=function(){return X(e)},n=function(t){Z(e,t)};return{writeToStorage:t,readFromStorage:a,removeFromStorage:n}},tt=a(2),at=a(28),nt=a.n(at),rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(n.useLayoutEffect)((function(){window.scrollTo({behaviour:"smooth",top:e});var t=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){return document.body.style.overflow=t}}),[])},ot=function(e){var t=e.message,a=e.message2,n=void 0===a?null:a,o=e.title,c=void 0===o?null:o,l=e.action1,i=void 0===l?null:l,s=e.action2,u=void 0===s?null:s,m=e.close,_=void 0===m?null:m;return rt(),r.a.createElement("div",{className:nt.a.popup__container},r.a.createElement("div",{className:nt.a.popup__module},_&&r.a.createElement("div",{className:nt.a.popup__closeBar},r.a.createElement("p",{onClick:_,className:nt.a.popup__closeBar_cls},"CLOSE")),r.a.createElement("div",null,c&&r.a.createElement(_e,c),r.a.createElement("p",{className:n?nt.a.popup__message:nt.a.popup__message2},t),n&&r.a.createElement("p",{className:nt.a.popup__message2},n),r.a.createElement("div",{className:nt.a.popup__btnContainer},i&&r.a.createElement(je,i),u&&r.a.createElement(je,u)))))},ct=function(){var e=Object(n.useState)(!1),t=Object(x.a)(e,2),a=t[0],o=t[1];return{show:a,openPopup:function(e){o(e)},displayPopup:function(e){var t=Object(tt.a)({},e);return(Object.keys(a).length>0?a.open:a)?r.a.createElement(ot,{title:t.title||a.title||null,message:t.message||a.message||null,message2:t.message2||a.message2||null,action1:t.action1||a.action1||null,action2:t.action2||a.action2||null}):null}}},lt=a(140),it=a.n(lt),st=function(e){var t=e.caption,a=void 0===t?"":t,n=e.tableClass,o=void 0===n?it.a.table:n,c=e.data,l=e.showRowNum,i=void 0!==l&&l,s=e.selectRow,u=void 0===s?function(){}:s;Object(de.a)(e,["caption","tableClass","data","showRowNum","selectRow"]);return r.a.createElement("div",null,a&&r.a.createElement("p",{className:it.a.caption},a),r.a.createElement("table",{className:o},r.a.createElement("thead",null,r.a.createElement("tr",null,i&&r.a.createElement("td",null),c.headers.map((function(e,t){return r.a.createElement("td",{key:t},e)}),0))),r.a.createElement("tbody",null,c.rows.map((function(e,t){return r.a.createElement("tr",{key:t,className:e.style&&"string"===typeof e.style.trow?e.style.trow:"",style:e.style&&"object"===typeof e.style.trow?e.style.trow:{},onClick:function(){return u(e.id?e.id:t+1)}},i&&r.a.createElement("td",{key:"".concat(t,"0")},t+1),e.values.map((function(e,a){return r.a.createElement("td",{key:"".concat(t,"-").concat(a)},e)}),1))})))))},ut=a(53),mt=function(e){var t=e.players,a=e.data,n=e.width,o=void 0===n?380:n,c=e.height,l=void 0===c?350:c;return r.a.createElement("div",null,r.a.createElement(ut.c,{width:o-25,height:l,data:a.data,margin:{top:5,right:5,left:0,bottom:0}},r.a.createElement(ut.a,{strokeDasharray:"3 3"}),r.a.createElement(ut.e,{dataKey:"game",width:40}),r.a.createElement(ut.f,{width:40}),r.a.createElement(ut.d,null),a.players.map((function(e,a){return r.a.createElement(ut.b,{key:a,type:"monotone",dataKey:t[e].name,stroke:"rgb(".concat(t[e].color,")"),fill:"rgb(".concat(t[e].color,")"),activeDot:{r:9}})}))))},_t=a(52),dt=a.n(_t),pt=function(e){var t=e.message,a=e.button1,n=void 0===a?null:a,o=e.button2,c=void 0===o?null:o,l=e.close,i=void 0===l?null:l;return r.a.createElement("div",{className:dt.a.staticPrompt},i&&r.a.createElement("div",{className:nt.a.popup__closeBar},r.a.createElement("p",{onClick:i,className:nt.a.popup__closeBar_cls},"CLOSE")),r.a.createElement("div",null,r.a.createElement("p",null,t),r.a.createElement("div",{className:dt.a.staticPrompt__btn},n&&r.a.createElement("div",{className:n&&c?dt.a.staticPrompt__btn_hf:dt.a.staticPrompt__btn_fl},r.a.createElement(je,Object.assign({isFull:!0},n))),c&&r.a.createElement("div",{className:n&&c?dt.a.staticPrompt__btn_hf:dt.a.staticPrompt__btn_fl},r.a.createElement(je,Object.assign({isFull:!0},c))))))},gt=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(x.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){a.width||r({width:window.innerWidth,height:window.innerHeight})}),[]),{dimensions:a}},ft=function(e){var t;return t={background:"rgba(".concat(e,", 0.3)")},Object(M.a)(t,"background","-moz-linear-gradient(180deg, rgba(255,255,255,1) 37%, rgba(".concat(e,",1) 100%)")),Object(M.a)(t,"background","-webkit-linear-gradient(180deg, rgba(255,255,255,1) 37%, rgba(".concat(e,",1) 100%)")),Object(M.a)(t,"background","linear-gradient(180deg, rgba(255,255,255,1) 37%, rgba(".concat(e,",1) 100%)")),t},bt=function(e){var t={};for(var a in e.players)t[a]={},t[a].name=e.players[a].name,t[a].values=[];return t},vt=function(e,t){for(var a in e.games)for(var n in e.games[a])t[n].values=t[n].values.concat(e.games[a][n].score);return t},yt=function(e,t){var a={};for(var n in e.games)a[t]||(a[t]={},a[t].name=e.players[t].name,a[t].values=[]),e.games[n][t]&&(a[t].values=a[t].values.concat(e.games[n][t].score));return a},ht=function(e,t){var a=[];for(var n in t){var r=ft(e.players[n].color),o=t[n].values.reduce((function(e,t){return e+t}),0),c=[t[n].name,Math.floor(o/t[n].values.length),o];a=a.concat({id:n,values:c,style:{trow:r}})}return a.forEach((function(e){e.values[1]||(e.values[1]=0),e.values[2]||(e.values[2]=0)})),a},Et=function(e,t){var a=[];for(var n in t){var r=ft(e.players[n].color),o=t[n].values.reduce((function(e,t){return e+t}),0),c=[Math.floor(o/t[n].values.length),o];(a=a.concat({id:n,values:c,style:{trow:r}}))[0].values[0]||(a[0].values[0]=0),a[0].values[1]||(a[0].values[1]=0)}return a},Ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={},n=[],r=bt(e);return t?(a=yt(e,t),n=Et(e,a)):(a=vt(e,r),n=ht(e,a)),n},wt=function(e){var t=[],a=[];for(var n in e.games){var r={};for(var o in r.game=n,e.games[n])r[e.games[n][o].name]=e.games[n][o].score;t=t.concat(r)}for(var c in e.players)a=a.concat(c);return{data:t,players:a}},jt=function(e,t){var a=[];for(var n in e.games){var r={};r.game=n,e.games[n][t]&&(r[e.games[n][t].name]=e.games[n][t].score,a=a.concat(r))}return{data:a,players:[t]}},Nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?jt(e,t):wt(e)},kt=function(e){return e.sort((function(e,t){return e.values[2]>t.values[2]?-1:e.values[2]<t.values[2]?1:void 0}))},Pt=function(e,t){var a=Date.parse(e);return new Date(a).toLocaleDateString("en-CH",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-")},St=["Player","Average","Pinfall"],Ct=function(e){var t=e.liveGame,a=e.addNewPlayers,n=e.playerSelect,o=e.addScores,c=e.newGame,l=e.user,i=e.history,s=gt().dimensions,u={label:"Signup",type:"darkGreen",click:function(){i.push("/signup")}},m={label:"Login",type:"darkBlue",click:function(){i.push("/login")}};return r.a.createElement("div",{className:[Be.a.contentContainer].join(" ")},!l&&r.a.createElement(pt,{message:"Login or Signup to save your game!",button1:u,button2:m}),r.a.createElement("div",{className:Le.a.btns},r.a.createElement(je,{isFull:!0,click:o,type:"blue",label:"Add Scores"})),r.a.createElement(_e,{label:Pt(t.createdAt)}),r.a.createElement(mt,{players:t.players,data:Nt(t),width:s.width}),r.a.createElement("div",{className:Le.a.btns},r.a.createElement(st,{data:{headers:St,rows:kt(Ot(t))},showRowNum:!0,selectRow:n,caption:"Click player for more details"})),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{isFull:!0,type:"blue",click:a,label:"Add Players"}),r.a.createElement("div",{className:Le.a.extra},r.a.createElement(je,{type:"darkgreen",click:c,label:"Start new game"}))))},xt=a(69),Dt=a.n(xt),Gt=function(e){var t=e.name,a=e.color,n=e.value,o=e.updateScore,c=e.id;return r.a.createElement("div",{style:ft(a),className:Dt.a.combinedInput},r.a.createElement("div",{className:[Dt.a.combinedInput__name,Dt.a.combinedInput].join(" ")},r.a.createElement("p",null,t)),r.a.createElement("div",{className:[Dt.a.combinedInput__input,Dt.a.combinedInput].join(" ")},r.a.createElement(he,{value:n,changed:function(e){return o({id:c,data:e.target.value})},id:c,type:"number",max:300,min:0})))},It=function(e){var t={};for(var a in e)t[a]={name:e[a].name,score:""};return t},Bt=function(e){var t=Object(n.useState)(null),a=Object(x.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){var t=It(e);o(t)}),[e]);return{values:r,addValue:function(e){var t=JSON.parse(JSON.stringify(r));t[e.id].score=parseInt(e.data),o(t)}}},Mt=function(e){var t=!0;for(var a in e)e[a].score>0&&(t=!1);return t},Lt=function(e){var t=e.players,a=e.close,n=(e.user,Bt(t)),o=n.values,c=n.addValue,l=se().addNewGameDispatch;return r.a.createElement("div",{className:Be.a.contentContainer},r.a.createElement(_e,{label:"Add Scores",ttlType:"sub"}),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ge.a.form__container},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(o),a()},className:Ge.a.form__form},Fe(t).map((function(e,t){return r.a.createElement(Gt,{key:t,name:e.config.name,color:e.config.color,updateScore:c,id:e.id,value:o[e.id].score})})),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{click:function(){},isFull:!0,label:"Save Scores",isDisabled:Mt(o)})))),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{isFull:!0,click:a,type:"warning",label:"Close"}))):r.a.createElement("p",null,"Please wait"))},Ft=a(83),Tt=a.n(Ft),At=function(){return{getTime:function(){return(new Date).getTime()},convertTime:function(e){return"".concat(e.getMonth(),"-").concat(e.getDate(),"-").concat(e.getFullYear(),"  ").concat(e.getHours(),":").concat(e.getMinutes())}}};function Rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rt(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jt={name:"",color:null},Ht={players:{},games:{}},Ut=function(e){var t=Object(l.c)((function(e){return e.liveGame})),a=Object(l.c)((function(e){return e.user.user})),r=se(),o=r.addNewPlayerDispatch,c=(r.initGameDispatch,r.commitNewGameDispatch),i=At().getTime,s=Object(n.useState)(Jt),u=Object(x.a)(s,2),m=u[0],_=u[1],d=Object(n.useState)(e?Ht:t),p=Object(x.a)(d,2),g=p[0],f=p[1];Object(n.useEffect)((function(){e||f(t)}),[t]),Object(n.useEffect)((function(){if(e&&a){var t=JSON.parse(JSON.stringify(g)),n={};n.name=a.username,n.color=a.color,t.players[a._id]=n,f(t)}}),[e]);return{liveGame:g,newPlayer:m,setName:function(e){var t=e.target.value;_((function(e){return Vt({},e,{name:t})}))},addColor:function(e){_((function(t){return Vt({},t,{color:e})}))},addPlayer:function(){var t=JSON.parse(JSON.stringify(g));if(!m.name)return!0;m.id||(m.id=W()()),m.color||(m.color=Ve()),e?(t.date=i(),t.players[m.id]=m,f(t)):o(m),_(Jt)},commitGame:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e&&(c(g),t())}}};function qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qt(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wt=["Player","Average","Pinfall"],Yt=B((function(e){var t=e.title,a=e.playerSelect,o=e.onClose,c=e.isNew,l=void 0!==c&&c,i=e.close,s=void 0===i?function(){}:i,u=Ut(l),m=u.liveGame,_=u.newPlayer,d=u.setName,p=u.addColor,g=u.addPlayer,f=u.commitGame,b=Je(),v=b.color,y=b.randomColor,h=b.showColorPickerComponent,E=Object(n.useState)(!1),O=Object(x.a)(E,2),w=O[0],j=O[1];Object(n.useEffect)((function(){v&&p(v)}),[v]);return r.a.createElement("div",{className:Be.a.contentContainer},r.a.createElement(_e,{label:t,ttlType:"sub"}),r.a.createElement("div",{className:Ge.a.form__container},r.a.createElement("div",{className:Ge.a.form__form},r.a.createElement(he,{value:_.name,id:"name",label:"Players Name",changed:d}),w&&h(),r.a.createElement("div",{className:[Tt.a.addPlayers__inline,Le.a.extra].join(" ")},r.a.createElement("div",{className:w?Tt.a.addPlayers__fullBtn:Tt.a.addPlayers__halfBtn},r.a.createElement(je,{isFull:!0,type:w?"warning":"lightblue",label:w?"Close":"Select Color",click:function(){return j((function(e){return!e}))}})),!w&&r.a.createElement("div",{className:Tt.a.addPlayers__halfBtn},r.a.createElement(je,{isFull:!0,type:"lightgreen",label:"Random Colour",click:y}))),_.color&&r.a.createElement("div",{className:Le.a.largeExtra,style:zt({marginTop:"10px",marginBottom:"10px",height:"30px",textAlign:"center"},ft(_.color))},_.name),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{isFull:!0,label:"Add Player",type:"blue",click:function(){j(!1),g()},isDisabled:!(_.name.length>0)})))),l&&r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{isFull:!0,label:"Start Game",click:function(){return f(s)},isDisabled:!(0!==Object.keys(m.players).length||!l)})),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(st,{data:{headers:Wt,rows:Ot(m)},selectRow:a,showRowNum:!0,caption:"Click player for more details"})),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{isFull:!0,type:"lightred",label:l?"Cancel":"Close",click:o})))}),C);a(555);function Xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xt(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Kt=["Player","Average","Pinfall"],Qt=function(e){var t=e.game,a=e.cancelClick,o=e.submitClick,c=Object(n.useState)(null),l=Object(x.a)(c,2),i=l[0],s=l[1];return console.log(t),r.a.createElement("div",null,r.a.createElement(_e,{label:"Please select the name you played as"}),r.a.createElement(st,{data:{headers:Kt,rows:kt(Ot(t))},caption:"Select Yourself",selectRow:s}),i&&r.a.createElement("p",{className:Le.a.largeExtra,style:Zt({},ft(t.players[i].color),{padding:"10px",textAlign:"center"})},"Selected Player: ".concat(t.players[i].name)),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{click:function(){return o(i)},label:"Submit",isDisabled:!i,type:"lightgreen",isFull:!0})),r.a.createElement("div",{className:Le.a.extra},r.a.createElement(je,{click:a,label:"Cancel",type:"lightred",isFull:!0})))},$t=function(e,t,a){var n="string"===typeof e?JSON.parse(e):e,r=JSON.parse(JSON.stringify(n));for(var o in delete r.players[t],delete r._id,console.log(r._id),r.players[a._id]={color:a.color,name:a.username,id:a._id},r.games)if(r.games[o][t]){var c=JSON.parse(JSON.stringify(r.games[o][t]));delete r.games[o][t],r.games[o][a._id]={name:a.username,score:c.score}}return console.log(r),r};function ea(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ea(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ea(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var aa={gameDetails:!0,addPlayers:!1,addscores:!1,newGame:!1,playerSelect:!1},na=function(e){var t=Object(l.c)((function(e){return e.liveGame})),a=Object(l.c)((function(e){return e.user})),o=et(),c=o.readFromStorage,i=o.removeFromStorage,s=se(),u=s.initGameDispatch,m=(s.resetLiveGameDispatch,s.commitNewGameDispatch),_=ct(),d=_.openPopup,p=_.displayPopup,g=_.show,f=Object(n.useRef)(),b=Object(n.useState)(aa),v=Object(x.a)(b,2),y=v[0],h=v[1];Object(n.useEffect)((function(){var e=c();if(e){var t=JSON.parse(e),n=Pt(t.createdAt);t.loggedIn&&!g?a.token?t.loggedIn===a.user._id?(console.log(n),d(ta({open:!0},N(e,n)))):t.loggedIn!==a.user._id&&E():d(ta({open:!0},k(e,n))):a.token?(f.current=e,d(ta({open:!0},P(e,n)))):d(ta({open:!0},N(e,n)))}else j("newGame")}),[]);var E=function(){i(),j("newGame")},O=function(e){var t=$t(f.current,e,a.user);console.log(t),m(t),j("gameDetails")},w=function(t){h(aa),e.history.push({pathname:"/player",state:{id:t}})},j=function(e){h(ta({},{gameDetails:!1,addPlayers:!1,addscores:!1,newGame:!1,playerSelect:!1},Object(M.a)({},e,!0)))},N=function(e,t){return{title:{label:"Game in Progress",ttlType:"sub"},message:"We found a game that was started on ".concat(t,"."),message2:"would you like to continue or start a new game?",action1:{label:"Start New Game",type:"default",click:function(){E(),d(!1)}},action2:{label:"Continue",type:"blue",click:function(){u(JSON.parse(e)),d(!1)}}}},k=function(t,a){return{title:{label:"Slight problem...",ttlType:"sub"},message:"We found a game that was started on ".concat(a,", but you need to login to continue this game."),message2:"If the game belongs to you that is...",action1:{label:"Start New Game",type:"default",click:function(){E(),d(!1)}},action2:{label:"Login",type:"darkBlue",click:function(){d(!1),e.history.push("/login")}}}},P=function(e,t){return{title:{label:"SO....",ttlType:"sub"},message:"We found a game that was started on ".concat(t,", but unsure if this is your game."),message2:"Would you like to check and continue this game?",action1:{label:"Start New Game",type:"default",click:function(){E(),d(!1)()}},action2:{label:"Continue",type:"darkBlue",click:function(){f.current=e,d(!1),j("playerSelect")}}}};return r.a.createElement("div",null,r.a.createElement(_e,{ttlType:"section",label:"Bowling Scores: Play"}),p(),y.gameDetails&&r.a.createElement(Ct,{liveGame:t,addNewPlayers:function(){return j("addPlayers")},playerSelect:w,addScores:function(){return j("addscores")},newGame:function(){return j("newGame")},history:e.history,user:a.token}),y.newGame&&r.a.createElement(Yt,{title:"Create New Game",liveGame:{},playerSelect:w,onClose:function(){return h(aa)},isNew:!0,close:function(){return j("gameDetails")}}),y.addPlayers&&r.a.createElement(Yt,{title:"Add Player",liveGame:t,playerSelect:w,onClose:function(){return h(aa)}}),y.addscores&&r.a.createElement(Lt,{players:t.players,close:function(){return h(aa)},user:a}),y.playerSelect&&r.a.createElement(Qt,{game:JSON.parse(f.current),cancelClick:E,submitClick:O}))},ra=function(e,t){var a=[];for(var n in e.games)e.games[n][t]&&(a=a.concat({values:[e.games[n][t].score]}));return a},oa=function(e){var t={};return e.forEach((function(e,a){t[a+1]={elementtype:"input",elementConfig:{type:"number",placeholder:"Game ".concat(a+1),min:0,max:300},value:e.values[0],validation:{},touched:!1,isValid:!0,shouldValidate:!1,hasErr:[]}})),t},ca=function(e){var t={};for(var a in e)t[a]=+e[a];return t},la=["Average","Pinfall"],ia=["Score"],sa=function(e){var t=se(),a=t.removePlayerDispatch,o=t.updateScoresDispatch,c=Object(l.c)((function(e){return e.liveGame})),i=Object(l.c)((function(e){return e.user})),s=e.location.state.id,u=null;i.token&&(u=i.user._id);var m=J(oa(ra(c,s))),_=m.manageState,d=m.formState,p=m.buildForm,g=Object(n.useState)(!1),f=Object(x.a)(g,2),b=f[0],v=f[1],y=Object(n.useState)(!1),h=Object(x.a)(y,2),E=h[0],O=h[1],w=Object(n.useMemo)((function(){return{headers:la,rows:Ot(c,s)}}),[c,s]),j=Object(n.useMemo)((function(){return{headers:ia,rows:ra(c,s)}}),[c,s]),N=function(e){e.preventDefault();var t=p(),a=ca(t);o({id:s,scores:a}),v((function(e){return!e}))},k=function(){return r.a.createElement("div",{className:Le.a.smallExtra},r.a.createElement(je,{isFull:!0,label:"Back",type:"default",click:function(){e.history.goBack()}}))};return r.a.createElement("div",{className:Be.a.contentContainer},E&&r.a.createElement(ot,{title:{label:"Are you sure?",ttlType:"sub"},message:"You will totally remove ".concat(c.players[s].name," from this game. are you sure?"),action1:{label:"Remove",type:"danger",click:function(){a(s),e.history.push("/game")}},action2:{label:"Cancel",type:"confirm",click:function(){return O(!1)}}}),k(),r.a.createElement(_e,{label:c.players[s].name,ttlType:"section"}),r.a.createElement("div",{className:Le.a.extra},r.a.createElement(st,{data:w})),r.a.createElement("div",{className:Le.a.extra},r.a.createElement(mt,{players:c.players,data:Nt(c,s)})),b?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[Le.a.extra,Ge.a.form__container].join(" ")},r.a.createElement("form",{onSubmit:N,className:Ge.a.form__form},Fe(d).map((function(e,t){return r.a.createElement(Ee,{key:t,config:e.config,id:e.id,changed:_,type:"number"})}),0),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{label:"Update",type:"default",click:function(){},isFull:!0})))),r.a.createElement("div",{className:Le.a.largeExtra},r.a.createElement(je,{label:"Close",type:"danger",click:function(){return v((function(e){return!e}))},isFull:!0,isDisabled:!1}))):r.a.createElement("div",{className:Le.a.gameDetails__extra},r.a.createElement(st,{data:j,showRowNum:!0})),!b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Le.a.extra},r.a.createElement(je,{isFull:!0,label:b?"Close":"Edit scores",type:"warning",click:function(){v((function(e){return!e}))}})),k(),u!==s&&r.a.createElement("div",{className:Le.a.superLarge},r.a.createElement(je,{isFull:!0,label:"Remove Player",type:"danger",click:function(){return O(!0)}}))))},ua=a(105),ma=a.n(ua),_a=a(143),da=a(36),pa=a.n(da),ga=function(e,t,a){var o=Object(n.useState)([]),c=Object(x.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(0),u=Object(x.a)(s,2),m=u[0],_=u[1],d=Object(n.useState)(""),p=Object(x.a)(d,2),g=p[0],f=p[1],b=Object(n.useState)("?search="),v=Object(x.a)(b,2),y=v[0],h=v[1],E=Object(n.useState)(!1),O=Object(x.a)(E,2),w=O[0],j=O[1],N=Object(n.useRef)(0);Object(n.useEffect)((function(){P()}),[y]);var k=function(e){var t,a=e.target.value;f(a),i([]),_(0),clearTimeout(t),t=setTimeout((function(){h("/?search=".concat(a))}),1e3)},P=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;j(!0),e({method:"GET",url:"".concat(t,"/").concat(m,"/").concat(a).concat(y)}).then((function(e){j(!1),e.data.totalCount&&(N.current=e.data.totalCount),i((function(t){return[].concat(Object(_a.a)(t),Object(_a.a)(e.data.items))})),_((function(t){return t+ +e.data.items.length}))})).catch((function(e){j(!1),console.log(e)}))};return{items:l,searchAll:k,fetchItems:P,reset:function(){i([]),_(0)},refresh:function(){var a=l.length;j(!0),e({method:"GET",url:"".concat(t,"/0/").concat(a).concat(y)}).then((function(e){j(!1),i(e.data),_(+e.data.length)})).catch((function(e){j(!1),console.log(e)}))},infiniteLoading:w,loadMoreBar:function(){return l.length==+N.current?r.a.createElement("p",{className:[pa.a.Infinite__more,pa.a.Infinite__more_finished].join(" , ")},"No more games to fetch"):r.a.createElement("p",{className:[pa.a.Infinite__more,pa.a.Infinite__more_toFetch].join(" , "),onClick:function(){return P()}},w?r.a.createElement("span",{className:pa.a.Infinite__spinner},r.a.createElement(xe,{size:16})):"load more games?")},infiniteSearchBar:function(){return r.a.createElement("div",{className:pa.a.Infinite},r.a.createElement("label",null,"search"),r.a.createElement("input",{value:g,onChange:function(e){return k(e)},className:pa.a.Infinite__input}))},searchResultsBar:function(){return l.length==+N.current?r.a.createElement("p",{className:pa.a.Infinite__results},"Displaying all games (".concat(N.current,")")):r.a.createElement("p",{className:pa.a.Infinite__results},"Displaying ".concat(l.length," ").concat(N.current&&"of ".concat(isNaN(N.current)?0:N.current)," games"))}}};function fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ba(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fa(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var va=["Player","Average","Pinfall"],ya=function(e){var t={};for(var a in e)t[a]=ba({id:a},e[a]);return t},ha=function(){var e=ga(C,f,{}),t=e.items,a=e.loadMoreBar,n=e.searchResultsBar,o=e.infiniteLoading,c=function(){};return r.a.createElement("div",null,r.a.createElement(_e,{label:"History",ttlType:"section"}),r.a.createElement("div",{className:ma.a.gameHistory},n(),t.length>0?t.map((function(e){return r.a.createElement("div",{className:ma.a.gameHistory__game,key:e._id},r.a.createElement(_e,{label:Pt(e.createdAt)}),r.a.createElement(mt,{players:ya(e.players),data:Nt(e),width:window.innerWidth-30}),r.a.createElement(st,{data:{headers:va,rows:kt(Ot(e))},showRowNum:!0,selectRow:c,caption:""}))})):o?r.a.createElement("div",{className:ma.a.gameHistory__spinner},r.a.createElement(xe,null)):r.a.createElement("p",null,r.a.createElement(i.b,{to:"/game"},"No games to display. Play one?"))),a())},Ea=function(e){return r.a.createElement("div",null,r.a.createElement(ha,null))},Oa=function(){var e=se().logoutUserDispatch;return Object(n.useEffect)((function(){e()}),[]),r.a.createElement(s.a,{to:"/"})},wa=function(e){var t=e.component,a=Object(de.a)(e,["component"]),n=Object(l.c)((function(e){return e.user.token}));return r.a.createElement(s.b,Object.assign({},a,{component:function(e){return n?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))},ja=Object(s.g)((function(e){var t=Object(l.c)((function(e){return e.user}));return Object(n.useEffect)((function(){e.history.push("/dashboard")}),[t]),r.a.createElement("div",null,r.a.createElement(s.d,null,r.a.createElement(k,{user:t},r.a.createElement(s.b,{path:"/",exact:!0,component:Ke}),r.a.createElement(s.b,{path:"/signup",component:function(){return r.a.createElement(Ye,{formConfig:$e,title:"Signup",url:_})}}),r.a.createElement(s.b,{path:"/login",component:function(){return r.a.createElement(Ae,{formConfig:Qe,title:"Login",url:m})}}),r.a.createElement(s.b,{path:"/player",component:sa}),r.a.createElement(s.b,{path:"/game",component:na}),r.a.createElement(wa,{path:"/dashboard",component:Ea}),r.a.createElement(s.b,{path:"/logout",component:Oa}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Na=a(44),ka={players:{},games:{}},Pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_GAME":case"LOAD_GAME":case"ADD_PLAYER":case"REMOVE_PLAYER":case"ADD_NEW_GAME":case"UPDATE_INDIVIDUAL_SCORE":return t.payload;case"RESET_LIVE_GAME":return ka;default:return e}},Sa={token:null,user:null},Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return{token:t.payload.token,user:t.payload.user};case"USER_LOGOUT":return Sa;default:return e}},xa=Object(Na.c)({liveGame:Pa,user:Ca}),Da=a(233),Ga=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Na.d,Ia=Object(Na.e)(xa,Ga(Object(Na.a)(Da.a))),Ba={lang:"en",user_name:"Username",user_pass:"Password",user_alley:"Bowling alley name",user_pass_confirm:"Confirm password",login_err1:"Login Error",login_err2:"Login Error",item_required:"Field is required",too_short:"Minimum of ".concat(1," characters"),min_pass:"Minimum of ".concat(5," characters"),too_long:"Maximum of ".concat(20," characters"),max_length_2:"Maximum of ".concat(40," characters"),pass_not_same:"Passwords are not the same"},Ma={en:Ba,ch:{lang:"ch"}},La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma.en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fa:var a=Ma[t.payload];return a||e;default:return e}},Fa="change_locale",Ta=r.a.createContext(),Aa=r.a.createContext(),Ra=function(e){var t=e.children,a=Object(n.useReducer)(La,Ba),o=Object(x.a)(a,2),c=o[0],l=o[1];return r.a.createElement(Ta.Provider,{value:c},r.a.createElement(Aa.Provider,{value:l},t))};c.a.render(r.a.createElement(l.a,{store:Ia},r.a.createElement(i.a,null,r.a.createElement(Ra,null,r.a.createElement(ja,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e,t,a){e.exports={title:"Title_title__jhuia",title__main:"Title_title__main__2J_9g",title__section:"Title_title__section__lNFEj",title__sub:"Title_title__sub__3G0Ay"}},69:function(e,t,a){e.exports={combinedInput:"CombinedInput_combinedInput__iedVz",combinedInput__name:"CombinedInput_combinedInput__name__3fYCL",combinedInput__input:"CombinedInput_combinedInput__input__1nyqN"}},80:function(e,t,a){e.exports={errorMessage:"ErrorMessage_errorMessage__-et8X",errorMessage__msg:"ErrorMessage_errorMessage__msg__1B71a",errorMessage__closeBar:"ErrorMessage_errorMessage__closeBar__2fR1F",errorMessage__closeBar_cls:"ErrorMessage_errorMessage__closeBar_cls__1eIKZ"}},83:function(e,t,a){e.exports={addPlayers__halfBtn:"AddPlayersForm_addPlayers__halfBtn__2_x07",addPlayers__fullBtn:"AddPlayersForm_addPlayers__fullBtn__3GZC9",addPlayers__inline:"AddPlayersForm_addPlayers__inline__1bmuP"}},9:function(e,t,a){e.exports={btns:"spacing_btns__M1d2X",smallExtra:"spacing_smallExtra__2uAGd",extra:"spacing_extra__HPBLP",largeExtra:"spacing_largeExtra__3OwDS",superLarge:"spacing_superLarge__2k1bN"}}},[[262,1,2]]]);
//# sourceMappingURL=main.4a569c66.chunk.js.map